function refreshForm(innerHTML) {
  const newLocationForm = document.getElementById('ajax-location-form');
  newLocationForm.innerHTML = innerHTML;
}

function addLocation(locationHTML) {
  const locations = document.getElementById('location-cards');
  locations.insertAdjacentHTML('beforeend', locationHTML);
}

<% if @location.errors.any? %>
  refreshForm('<%= j render "itineraries/location_form", itinerary: @itinerary, location: @location %>');
<% else %>
  addLocation('<%= j render "itineraries/location", itinerary: @itinerary, location: @location %>');
  refreshForm('<%= j render "itineraries/location_form", itinerary: @itinerary, location: Location.new %>');

  var locationBtn = document.querySelector('.location-button');

  if (locationBtn) {
    locationBtn.addEventListener('click', () => {
      console.log('e');
    });
  }
<% end %>
